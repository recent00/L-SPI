# 简易SPI机制

动手写了类似于Java的SPI机制，借鉴dubbo的SPI机制，对Java的SPI机制进行扩展



### 主要特性

1. 类似于dubbo的真正懒加载，而不是遍历一堆需要的实例
2. 考虑了并发安全问题
3. 支持通过名称获取实现类



### 规定

1. 在 META-INF/services/ 目录中创建以接口全限定名命名的文件，该文件内容为 “实现类别名=API具体实现类的全限定名“
2. 需要实现SPI机制的接口需要标有@SPI注解
3. 使用ExtensionLoader动态加载 META-INF 中的实现类



### 实现流程

![Lys-SPI](D:\lys\java\project\L-SPI\Lys-SPI.png)





### 优点

对于某种规范我们只需要定义其接口，不同的实现方式通过SPI服务加载机制进行发现，有效避免在代码中将具体服务提供者写死，可以实现模块热插拔，扩展方便。从而可以实现接口编程，实现模块间的解耦。





